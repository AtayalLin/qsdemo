/* ======================================================
    全螢幕背景（完全同步結果頁）
====================================================== */
.bg-wave {
    position: fixed;
    inset: 0;
    z-index: -1;
    overflow: hidden;
    pointer-events: none; 
    background:
        radial-gradient(700px 400px at 10% 15%, rgba(255, 191, 160, 0.18), transparent 65%),
        radial-gradient(600px 360px at 85% 85%, rgba(244, 162, 97, 0.14), transparent 65%),
        linear-gradient(160deg, #7d7b7a 0%, #241b16 45%, #7a7472 100%);
}

.bg-wave::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background-image:
        repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.035), rgba(255, 255, 255, 0.035) 1px, transparent 1px, transparent 16px),
        repeating-linear-gradient(45deg, rgba(244, 242, 240, 0.04), rgba(244, 242, 240, 0.04) 1px, transparent 1px, transparent 22px);
    opacity: 0.7;
}

/* ======================================================
    Survey Page 主容器
====================================================== */
.result-page {
    max-width: 1100px;
    margin: 60px auto;
    padding: 40px;
    background: rgba(255, 248, 240, 0.95);
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
    color: #6d4c41;
    font-family: 'Noto Sans JP', 'Noto Sans TC', 'Segoe UI', sans-serif;
    animation: fadeIn 0.6s ease-out;
    position: relative;
    z-index: 1;
}

.survey-header { margin-bottom: 36px; }
.survey-title { font-size: 30px; font-weight: 700; margin-bottom: 14px; color: #6d4c41; }
.survey-meta { display: flex; flex-wrap: wrap; gap: 18px; font-size: 0.9rem; color: #9c6f55; }
.survey-intro { color: #9c6f55; font-size: 0.95rem; margin-top: -10px; margin-bottom: 25px; opacity: 0.8; }

/* ======================================================
    個資填寫區專屬
====================================================== */
.user-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 5px;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.input-group label {
    font-size: 0.85rem;
    color: #9c6f55;
    font-weight: 600;
}

.custom-input {
    padding: 14px 18px;
    border: 1px solid #e6bfa6;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.6);
    color: #6d4c41;
    font-size: 1rem;
    outline: none;
    transition: all 0.3s ease;
}

.custom-input:focus {
    border-color: #e76f51;
    background: #fff;
    box-shadow: 0 0 15px rgba(231, 111, 81, 0.15);
}

/* ======================================================
    Question Card 結構
====================================================== */
.question-list { display: flex; flex-direction: column; gap: 28px; }

.question-card {
    padding: 28px 30px;
    background: rgba(255, 255, 255, 0.78);
    backdrop-filter: blur(8px);
    border-radius: 20px;
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.question-head { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
.question-head h3 { font-size: 1.05rem; font-weight: 600; margin: 0; color: #6d4c41; }

.question-type { font-size: 0.75rem; padding: 4px 12px; border-radius: 999px; font-weight: 500; letter-spacing: 0.5px; }
.question-type.single { background: #ffd3c0; color: #6d4c41; }
.question-type.multiple { background: #ffe6d8; color: #6d4c41; }
.question-type.text { background: #e9f5f2; color: #2a9d8f; }

/* ======================================================
    選項與配色區
====================================================== */
.list-layout { display: flex; flex-direction: column; gap: 16px; }
.custom-option { cursor: pointer; position: relative; display: block; }

.custom-option input { 
    position: absolute; 
    inset: 0; 
    width: 100%;
    height: 100%;
    opacity: 0; 
    z-index: 5; 
    cursor: pointer;
}

.option-box {
    padding: 18px 24px;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(245, 245, 245, 0.5) 100%);
    border: 1px solid rgba(230, 191, 166, 0.4);
    border-radius: 12px;
    color: #6d4c41;
    font-weight: 500;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    z-index: 1;
    pointer-events: none; 
}

.custom-option:hover .option-box {
    border-color: #e76f51;
    background: #fff;
    transform: translateX(8px);
}

.custom-option input:checked + .option-box {
    background: #e76f51 !important;
    color: #fff !important;
    border-color: transparent !important;
    box-shadow: 0 8px 15px rgba(231, 111, 81, 0.3) !important;
}

/* 題序色彩樣式 (針對第一題的不同選項) */
.question-card:nth-of-type(2) .custom-option:nth-of-type(1) input:checked + .option-box { background: #6366f1 !important; box-shadow: 0 8px 15px rgba(99, 102, 241, 0.3) !important; }
.question-card:nth-of-type(2) .custom-option:nth-of-type(2) input:checked + .option-box { background: #22c55e !important; box-shadow: 0 8px 15px rgba(34, 197, 94, 0.3) !important; }
.question-card:nth-of-type(2) .custom-option:nth-of-type(3) input:checked + .option-box { background: #ff4757 !important; box-shadow: 0 8px 15px rgba(255, 71, 87, 0.3) !important; }
.question-card:nth-of-type(2) .custom-option:nth-of-type(4) input:checked + .option-box { background: #ffa502 !important; box-shadow: 0 8px 15px rgba(255, 165, 2, 0.3) !important; }
.question-card:nth-of-type(2) .custom-option:nth-of-type(5) input:checked + .option-box { background: #a55eea !important; box-shadow: 0 8px 15px rgba(165, 94, 234, 0.3) !important; }

/* 後續題目色彩 */
.question-card:nth-of-type(3) input:checked + .option-box { background: #20bf6b !important; }
.question-card:nth-of-type(4) input:checked + .option-box { background: #0fbcf9 !important; }
.question-card:nth-of-type(5) input:checked + .option-box { background: #d373e7 !important; }

/* ======================================================
    按鈕與輸入框
====================================================== */
.custom-textarea {
    width: 100%; min-height: 140px; padding: 18px; border: 1px solid #e6bfa6;
    border-radius: 14px; background: rgba(255, 255, 255, 0.6); outline: none; transition: 0.3s;
}
.custom-textarea:focus { border-color: #e76f51; background: #fff; box-shadow: 0 0 15px rgba(231, 111, 81, 0.15); }

.action-footer { display: flex; justify-content: flex-end; gap: 16px; padding-top: 30px; }

.btn-gaming-submit {
    padding: 16px 48px; background: #e76f51; color: #fff; border: none; border-radius: 10px;
    font-weight: 700; font-size: 1.1rem; letter-spacing: 1px; cursor: pointer; transition: 0.3s;
    box-shadow: 0 5px 0 #b3523a;
}
.btn-gaming-submit:hover:not(:disabled) {
    transform: translateY(-2px); box-shadow: 0 7px 0 #b3523a, 0 10px 20px rgba(231, 111, 81, 0.3); background: #f07e63;
}
.btn-gaming-submit:active { transform: translateY(3px); box-shadow: 0 2px 0 #b3523a; }

.btn-outline {
    background: transparent; color: #9c6f55; border: 1px solid #e6bfa6;
    padding: 14px 28px; border-radius: 10px; cursor: pointer; font-weight: 600;
}

/* ======================================================
    Modal 樣式 (由結果頁遷移並優化)
====================================================== */
.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle, rgba(0, 0, 0, 0.65) 0%, rgba(0, 0, 0, 0.85) 100%);
    backdrop-filter: blur(5px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.gaming-modal {
    background: #ffffff;
    padding: 40px;
    border-radius: 24px;
    width: 90%;
    max-width: 480px;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    border: 3px solid #6d4c41;
    position: relative;
    animation: modalSlideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.modal-icon { font-size: 3.5rem; margin-bottom: 20px; }
.modal-text { font-size: 1.25rem; font-weight: 700; color: #4e342e; line-height: 1.6; margin-bottom: 30px; }
.modal-subtext { color: #8d6e63; font-size: 1rem; margin-top: -20px; }

.modal-actions {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.modal-actions button {
    padding: 12px 35px; border-radius: 12px; font-weight: 700; cursor: pointer; border: none; outline: none; transition: all 0.2s;
}

.modal-actions.small { gap: 25px; margin-top: 10px; }

.btn-modal-primary {
    background: #e76f51 !important;
    color: white !important;
    box-shadow: 0 4px 0 #b3523a;
}
.btn-modal-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 0 #b3523a; }

.btn-modal-secondary { background: #f5f5f5; color: #757575; }

.btn-modal-confirm {
    background: #6d4c41 !important; color: white !important;
    box-shadow: 0 4px 0 #4e342e;
}
.btn-modal-confirm:disabled { background: #d7ccc8 !important; box-shadow: none; cursor: not-allowed; }

.btn-modal-text { background: transparent; color: #9e9e9e; text-decoration: underline; }
.btn-modal-text:hover { color: #6d4c41; }

.input-wrapper {
    margin-bottom: 25px;
}

.input-wrapper .gaming-input {
    width: 100%; padding: 15px; border: 2px solid #d7ccc8; border-radius: 12px; font-size: 1rem;
}
.input-wrapper .gaming-input:focus { 
    border-color: #e76f51; outline: none; box-shadow: 0 0 0 4px rgba(231, 111, 81, 0.1); 
}

.thanks-header { color: #2e7d32 !important; }

/* ======================================================
    動畫定義
====================================================== */
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

@keyframes modalSlideUp {
    from { opacity: 0; transform: translateY(30px) scale(0.9); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

/* ======================================================
    RWD 回應式設計
====================================================== */
@media (max-width: 768px) {
    .result-page { margin: 40px 16px; padding: 28px 20px; }
    .user-info-grid { grid-template-columns: 1fr; }
    .action-footer { flex-direction: column-reverse; }
    .btn-gaming-submit { width: 100%; }
    .gaming-modal { padding: 30px 20px; }
    .modal-actions { flex-direction: column; }
    .modal-actions button { width: 100%; }
}